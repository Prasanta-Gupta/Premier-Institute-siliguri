<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teachers - Premier Institute</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {
  margin:0; font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#dbeafe,#eff6ff);
  color:#003366;
  min-height:100vh;
  padding:20px;
  display:flex;
  flex-direction:column;
}
header {
  text-align:center;
  margin-bottom:20px;
}
header h1 { margin:0; font-size:28px; }
header small { color:#2563eb; font-size:14px; }

.teacher-card {
  background:#fff;
  border-radius:18px;
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
  padding:20px;
  margin-bottom:20px;
  transition:0.3s;
}
.teacher-card:hover { transform:translateY(-3px); }

.teacher-header {
  display:flex; align-items:center; gap:15px;
  cursor:pointer;
}
.teacher-header img {
  width:60px; height:60px; border-radius:50%;
  object-fit:cover; border:2px solid #2563eb;
}
.teacher-info { flex:1; }
.teacher-info h2 { margin:0; font-size:20px; color:#000; }
.teacher-info p { margin:4px 0 0; color:#555; font-size:14px; }

.rating {
  margin-top:10px;
  color:#f59e0b;
  font-size:16px;
}
.rating span { color:#555; font-size:13px; margin-left:6px; }

.expand {
  margin-top:15px;
  display:none;
  border-top:1px solid #eee;
  padding-top:10px;
}
.expand h3 { margin:0 0 10px; font-size:16px; color:#003366; }
.expand ul { padding-left:20px; margin:0; }
.expand ul li { margin:6px 0; color:#333; }

/* Review Button */
.review-btn {
  margin:30px auto 10px;
  display:block;
  width:200px;
  text-align:center;
  padding:12px;
  border-radius:12px;
  background:#2563eb;
  color:#fff;
  font-weight:bold;
  text-decoration:none;
  font-size:16px;
  box-shadow:0 4px 10px rgba(0,0,0,0.2);
  transition:0.3s;
}
.review-btn:hover {
  background:#1d4ed8;
  transform:scale(1.05);
}
</style>
</head>
<body>

<header>
  <h1>Teachers</h1>
  <small>Premier Institute</small>
</header>

<div class="teacher-card" onclick="toggleExpand(this)">
  <div class="teacher-header">
    <img src="Prashantsir6.png" alt="Teacher">
    <div class="teacher-info">
      <h2>Prasanta Sir</h2>
      <p>Dedicated All Subjects Teacher with 25+ years of experience.</p>
      <div class="rating">
        ★★★★★ <span id="ratingsCount1">(Loading...)</span>
      </div>
    </div>
  </div>
  <div class="expand">
    <h3>Expertise In:</h3>
    <ul>
      <li>Mathematics</li>
      <li>Hindi</li>
      <li>English</li>
      <li>History</li>
      <li>Bengali</li>
      <li>Geography</li>
    </ul>
  </div>
</div>

<div class="teacher-card" onclick="toggleExpand(this)">
  <div class="teacher-header">
    <img src="teacher.png" alt="Teacher">
    <div class="teacher-info">
      <h2>Maths Sir </h2>
      <p>Passionate Maths Teacher focused on skill-based learning.</p>
      <div class="rating">
        ★★★★☆ <span id="ratingsCount2">(Loading...)</span>
      </div>
    </div>
  </div>
  <div class="expand">
    <h3>Expertise In:</h3>
    <ul>
      <li>Maths</li>
      <li>Competitive Exams</li>
      <li>10/10 Rating</li>
    </ul>
  </div>
</div>

<!-- Review Button -->
<a href="review.html" class="review-btn">Review</a>

<script>
const JSON_BIN_ID = "68d66b20ae596e708ffc7bc5";
const MASTER_KEY = "$2a$10$5TyPwxtO8pS6G5qBROpTx.PX3NTZx3bg/W6cnelH2J5Qzyfz27ZA.";

// Expand toggle
function toggleExpand(card){
  const expand = card.querySelector(".expand");
  expand.style.display = expand.style.display==="block" ? "none":"block";
}

// Load review count from JSONBin
async function loadReviewsCount(){
  try{
    const res = await fetch(`https://api.jsonbin.io/v3/b/${JSON_BIN_ID}/latest`, {
      headers: {"X-Master-Key": MASTER_KEY}
    });
    const data = await res.json();
    const count = data.record.reviewsCount || data.record.reviews?.length || 0;

    // Update both teachers (same count for now)
    document.getElementById("ratingsCount1").innerText = `(${count} reviews)`;
    document.getElementById("ratingsCount2").innerText = `(${count} reviews)`;

  }catch(err){
    console.error("Failed to fetch reviews count:", err);
  }
}

loadReviewsCount();
</script>

</body>

</html>
