<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Satyam Raj - Developer Portfolio</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Segoe UI', Arial, sans-serif; background:#f5f5f5; min-height:100vh; display:flex; justify-content:center; align-items:center; padding:20px; }

.portfolio-container { background:#fff; border:3px solid #000; padding:30px 25px; max-width:600px; width:100%; text-align:center; box-shadow:0 4px 20px rgba(0,0,0,0.1); position:relative; }
.title { font-size:2.5rem; font-weight:900; color:#000; margin-bottom:25px; letter-spacing:2px; }

/* Profile image */
.profile-image {
    width:300px;
    height:300px;
    border-radius:50%;
    border:4px solid #000;
    margin:0 auto 25px;
    background: url('Satyam.png') center/cover no-repeat;
}

.name { font-size:2rem; font-weight:700; color:#000; margin-bottom:25px; letter-spacing:1px; }
.description { font-size:1rem; line-height:1.6; color:#333; margin-bottom:30px; font-weight:400; }
.portfolio-btn { background:#1a73e8; color:#000; border:3px solid #000; padding:12px 25px; font-size:1.1rem; font-weight:700; text-decoration:none; display:inline-block; margin-bottom:30px; transition:all 0.2s ease; letter-spacing:1px; }
.portfolio-btn:hover { background:#0f5cb3; transform:translateY(-1px); }

.feedback-section { border-top:2px solid #e0e0e0; padding-top:25px; position:relative; }
.feedback-question { font-size:1.2rem; font-weight:600; color:#000; margin-bottom:20px; }
.feedback-buttons { display:flex; justify-content:center; gap:50px; margin-bottom:15px; }
.feedback-btn { background:transparent; border:none; cursor:pointer; font-size:2rem; transition:all 0.2s ease; padding:8px; }
.feedback-btn:hover { transform:scale(1.1); }
.like-btn { color:#28a745; }
.dislike-btn { color:#dc3545; }
.feedback-counts { display:flex; justify-content:center; gap:50px; margin-bottom:5px; }
.count { font-size:1.1rem; font-weight:600; color:#333; }

/* Slide message */
.slide-message {
    position:absolute;
    top:-50px;
    left:-200%;
    background:#ff9800;
    color:#fff;
    padding:10px 20px;
    border-radius:6px;
    font-weight:600;
    box-shadow:0 2px 8px rgba(0,0,0,0.2);
    transition:left 0.5s ease, opacity 0.5s ease;
    opacity:0;
}

/* Responsive */
@media (max-width:768px){ 
    .feedback-buttons{ gap:35px; } 
    .feedback-counts{ gap:35px; } 
    .title{ font-size:2rem; margin-bottom:20px; } 
    .profile-image{ width:160px; height:160px; margin-bottom:20px; } 
    .name{ font-size:1.8rem; margin-bottom:20px; } 
    .description{ font-size:0.95rem; margin-bottom:25px; } 
}
@media (max-width:480px){ 
    .feedback-buttons{ gap:25px; } 
    .feedback-counts{ gap:25px; } 
    .title{ font-size:1.7rem; } 
    .profile-image{ width:120px; height:120px; } 
    .name{ font-size:1.5rem; } 
    .description{ font-size:0.9rem; } 
}
</style>
</head>
<body>
<div class="portfolio-container">
    <h1 class="title">DEVELOPER</h1>
    
    <!-- Profile Image -->
    <div class="profile-image" id="profileImage"></div>
    
    <h2 class="name">SATYAM RAJ</h2>
    <p class="description">This website was carefully developed by SATYAM RAJ for Premier Institute</p>
    <a href="https://satyam-raj-india.github.io/Satyam-Raj/" class="portfolio-btn" target="_blank">VIEW PORTFOLIO</a>

    <div class="feedback-section">
        <div class="slide-message" id="slideMessage">You can't vote again</div>
        <p class="feedback-question">Did you liked this website?</p>
        <div class="feedback-buttons">
            <button class="feedback-btn like-btn" id="likeBtn"><i class="fas fa-thumbs-up"></i></button>
            <button class="feedback-btn dislike-btn" id="dislikeBtn"><i class="fas fa-thumbs-down"></i></button>
        </div>
        <div class="feedback-counts">
            <span class="count" id="likeCount">Loading...</span>
            <span class="count" id="dislikeCount">Loading...</span>
        </div>
    </div>
</div>

<script>
// JSONBin config
const JSONBIN_BIN_ID = '68d74e8943b1c97be9519505';
const JSONBIN_MASTER_KEY = '$2a$10$5TyPwxtO8pS6G5qBROpTx.PX3NTZx3bg/W6cnelH2J5Qzyfz27ZA.';
const JSONBIN_ACCESS_KEY = '$2a$10$tnOrNx/yH88WqGAqpmOY7uRbtygIQdOL/kVxZ51bOXoJIV7CX5tIG';

let currentData = { likes:0, dislikes:0 };
let isUpdating=false;
const slideMessage = document.getElementById('slideMessage');
const nowMonth = new Date().getFullYear() + '-' + (new Date().getMonth()+1);

// Load data from JSONBin
async function loadData(){
    try{
        const res = await fetch(`https://api.jsonbin.io/v3/b/${JSONBIN_BIN_ID}/latest`,{
            method:'GET',
            headers:{'X-Master-Key':JSONBIN_MASTER_KEY,'X-Access-Key':JSONBIN_ACCESS_KEY}
        });
        if(res.ok){ const result = await res.json(); currentData=result.record; updateDisplay(); }
    }catch(e){ console.error(e); }
}

// Update display
function updateDisplay(){
    document.getElementById('likeCount').textContent=currentData.likes;
    document.getElementById('dislikeCount').textContent=currentData.dislikes;
}

// Update JSONBin
async function updateData(newData){
    if(isUpdating) return;
    isUpdating=true;
    try{
        const res=await fetch(`https://api.jsonbin.io/v3/b/${JSONBIN_BIN_ID}`,{
            method:'PUT',
            headers:{'Content-Type':'application/json','X-Master-Key':JSONBIN_MASTER_KEY,'X-Access-Key':JSONBIN_ACCESS_KEY},
            body:JSON.stringify(newData)
        });
        if(res.ok){ currentData=newData; updateDisplay(); }
    }catch(e){ console.error(e); }
    finally{ isUpdating=false; }
}

// Check local vote
function hasVoted(){
    const lastVote = localStorage.getItem('voteMonth');
    return lastVote===nowMonth;
}

// Slide message
function showSlide(){
    setTimeout(()=>{
        slideMessage.style.left='50%';
        slideMessage.style.transform='translateX(-50%)';
        slideMessage.style.opacity=1;
        setTimeout(()=>{
            slideMessage.style.left='-200%';
            slideMessage.style.opacity=0;
        },2000);
    },1000);
}

// Like button
document.getElementById('likeBtn').addEventListener('click',async()=>{
    if(hasVoted()){ showSlide(); return; }
    const newData={ likes:currentData.likes+1, dislikes:currentData.dislikes };
    await updateData(newData);
    localStorage.setItem('voteMonth',nowMonth);
    localStorage.setItem('voteType','like');
});

// Dislike button
document.getElementById('dislikeBtn').addEventListener('click',async()=>{
    if(hasVoted()){ showSlide(); return; }
    const newData={ likes:currentData.likes, dislikes:currentData.dislikes+1 };
    await updateData(newData);
    localStorage.setItem('voteMonth',nowMonth);
    localStorage.setItem('voteType','dislike');
});

document.addEventListener('DOMContentLoaded',loadData);
</script>
</body>
</html>